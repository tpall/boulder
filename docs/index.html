<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Download Data From Estonian Health Statistics And Health Research Database • boulder</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Google analytics --><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-113924774-1', 'auto');
  ga('send', 'pageview');

</script>
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">boulder</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/colo.html">Colorectal cancer incidence and mortality</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/tpall/boulder">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    

    
    
<div class="contents">
<!-- README.md is generated from README.Rmd. Please edit that file -->

<div id="boulder-access-estonian-health-statistics" class="section level2">
<h2 class="hasAnchor">
<a href="#boulder-access-estonian-health-statistics" class="anchor"></a>boulder – access Estonian health statistics</h2>
<p>boulder is designed for querying and downloading data from <a href="http://pxweb.tai.ee/PXWeb2015/index_en.html">Estonian Health Statistics And Health Research Database</a> (TAI). Name ‘Boulder’ is from Brand Estonia toolbox <a href="https://brand.estonia.ee/design/boulders/">boulders</a>.</p>
<blockquote>
<p>bouldeR: In our nature, the giant erratic boulders appear unexpectedly in the forest or on the beach. In our visual communication, they play a similar disruptive role. The use of boulders is not compulsory. <a href="https://brand.estonia.ee/design/boulders/">Brand Estonia</a></p>
</blockquote>
</div>
<div id="verbs" class="section level2">
<h2 class="hasAnchor">
<a href="#verbs" class="anchor"></a>Verbs</h2>
<p>Package has two main functions <code><a href="reference/get_all_tables.html">get_all_tables()</a></code> and <code><a href="reference/pull_table.html">pull_table()</a></code>.</p>
<ul>
<li>
<code><a href="reference/get_all_tables.html">get_all_tables()</a></code> downloads list of available database tables and</li>
<li>
<code><a href="reference/pull_table.html">pull_table()</a></code> downloads your table of interest based on table name.</li>
</ul>
<p>Table descriptions are available in ‘Title’ column of data frame produced by <code><a href="reference/get_all_tables.html">get_all_tables()</a></code>. By default <code><a href="reference/get_all_tables.html">get_all_tables()</a></code> uses local table supplied with the package. To download fresh list of database tables from TAI use <code>local = FALSE</code> argument.</p>
<p><code><a href="reference/pull_table.html">pull_table()</a></code> converts “.” and “..”, apparently denoting missing values, to NA-s, and filters out some summary rows, generally coded by “0”-s, to reduce table size in attempt to avoid hitting size limit of POST request. Otherwise, variables and their names are not modified, as prepended dots “.”, “..” to the variable names indicate their hierarchy. It’s strongly advisable to compare downloaded table to the table available on the TAI website.</p>
<p>Package interacts with pxweb API at TAI. There is also official pxweb API package <a href="https://github.com/rOpenGov/pxweb">rOpenGov/pxweb</a> allowing interactive browsing through databases.</p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>Install package from GitHub:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"tpall/boulder"</span>)</code></pre></div>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<p>Parse data from <strong>json</strong> file manually downloaded from <a href="http://pxweb.tai.ee/PXWeb2015/index_en.html">Estonian Health Statistics Database</a> into a data frame.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(boulder)
path_to_PK10.json &lt;-<span class="st"> </span><span class="kw">system.file</span>(<span class="st">"extdata"</span>, <span class="st">"PK10.json"</span>, <span class="dt">package =</span> <span class="st">"boulder"</span>, <span class="dt">mustWork =</span> <span class="ot">TRUE</span>)
pk10 &lt;-<span class="st"> </span><span class="kw"><a href="reference/json_to_df.html">json_to_df</a></span>(path_to_PK10.json)
<span class="co">#&gt; Data source is Estonian Cancer Registry.</span></code></pre></div>
<p>Download table “RK01” from database:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># load library</span>
<span class="kw">library</span>(boulder)

<span class="co"># check available tables</span>
tabs &lt;-<span class="st"> </span><span class="kw"><a href="reference/get_all_tables.html">get_all_tables</a></span>(<span class="dt">lang =</span> <span class="st">"en"</span>)
tabs
<span class="co">#&gt; # A tibble: 1,688 x 6</span>
<span class="co">#&gt;    Database    Node                         Name  Title    Updated  url   </span>
<span class="co">#&gt;    &lt;chr&gt;       &lt;chr&gt;                        &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt; </span>
<span class="co">#&gt;  1 01Rahvastik Abortions                    RK01  Abortio… 2017-06… http:…</span>
<span class="co">#&gt;  2 01Rahvastik Abortions                    RK11  Abortio… 2017-11… http:…</span>
<span class="co">#&gt;  3 01Rahvastik Abortions                    RK20  Abortio… 2017-06… http:…</span>
<span class="co">#&gt;  4 01Rahvastik Abortions                    RK30  Abortio… 2017-06… http:…</span>
<span class="co">#&gt;  5 01Rahvastik Abortions                    RK40  Abortio… 2017-06… http:…</span>
<span class="co">#&gt;  6 01Rahvastik Abortions                    RK50  Use of … 2017-06… http:…</span>
<span class="co">#&gt;  7 01Rahvastik Abortions                    RK61  Legally… 2017-06… http:…</span>
<span class="co">#&gt;  8 01Rahvastik Abortions                    RK62  Abortio… 2017-06… http:…</span>
<span class="co">#&gt;  9 01Rahvastik Abortions                    RK63  Abortio… 2017-06… http:…</span>
<span class="co">#&gt; 10 01Rahvastik Births and breastfed infants SR01  Live bi… 2017-10… http:…</span>
<span class="co">#&gt; # ... with 1,678 more rows</span>

<span class="co"># dowload table of interest</span>
rk01 &lt;-<span class="st"> </span><span class="kw"><a href="reference/pull_table.html">pull_table</a></span>(<span class="st">"RK01"</span>, <span class="dt">lang =</span> <span class="st">"en"</span>)
rk01
<span class="co">#&gt; # A tibble: 3,876 x 4</span>
<span class="co">#&gt;    Year  County  `Age group`      value</span>
<span class="co">#&gt;    &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;            &lt;dbl&gt;</span>
<span class="co">#&gt;  1 2000  Estonia All age groups 15331  </span>
<span class="co">#&gt;  2 2000  Estonia 10-14             20.0</span>
<span class="co">#&gt;  3 2000  Estonia 15-17            689  </span>
<span class="co">#&gt;  4 2000  Estonia 18-19           1168  </span>
<span class="co">#&gt;  5 2000  Estonia 20-24           3701  </span>
<span class="co">#&gt;  6 2000  Estonia 25-29           3545  </span>
<span class="co">#&gt;  7 2000  Estonia 30-34           2940  </span>
<span class="co">#&gt;  8 2000  Estonia 35-39           2158  </span>
<span class="co">#&gt;  9 2000  Estonia 40-44            996  </span>
<span class="co">#&gt; 10 2000  Estonia 45-49            110  </span>
<span class="co">#&gt; # ... with 3,866 more rows</span>

<span class="co"># look at the table title and date of last update</span>
<span class="kw">comment</span>(rk01)
<span class="co">#&gt;                               Title                             Updated </span>
<span class="co">#&gt; "Abortions by age group and county"               "2017-06-06T10:16:55"</span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2 class="hasAnchor">
<a href="#sidebar" class="anchor"></a>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/tpall/boulder">https://​github.com/​tpall/​boulder</a>
</li>
<li>Report a bug at <br><a href="https://github.com/tpall/boulder/issues">https://​github.com/​tpall/​boulder/​issues</a>
</li>
</ul>
<h2>License</h2>
<p><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE.html">LICENSE</a></p>
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Taavi Päll <br><small class="roles"> Author, maintainer </small> </li>
</ul>
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/tpall/boulder"><img src="https://travis-ci.org/tpall/boulder.svg?branch=master" alt="Build Status"></a></li>
<li><a href="https://codecov.io/github/tpall/boulder?branch=master"><img src="https://img.shields.io/codecov/c/github/tpall/boulder/master.svg" alt="Coverage Status"></a></li>
</ul>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Taavi Päll.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
